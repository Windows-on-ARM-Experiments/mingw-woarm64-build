; Listing generated by Microsoft (R) Optimizing Compiler Version 19.42.34435.0 

	TTL	W:\home\blachex\mingw-woarm64-build\tests\valist\nul.obj
	;ARM64

	AREA	|.drectve|, DRECTVE

	EXPORT	|test_va_list|
	EXPORT	|use_indirect_va_list|
	EXPORT	|test_indirect_va_list|
	EXPORT	|main|
	IMPORT	|__imp_use_va_args|
	IMPORT	|__imp_use_va_list|
	IMPORT	|__GSHandlerCheck|
	IMPORT	|__security_pop_cookie|
	IMPORT	|__security_push_cookie|

	AREA	|.pdata|, PDATA
|$pdata$test_va_list| DCD |$LN3|
	DCD	|$unwind$test_va_list|
|$pdata$use_indirect_va_list| DCD |$LN3|
	DCD	0x1600035
	;Flags[SingleProEpi] functionLength[52] RegF[0] RegI[0] H[0] frameChainReturn[Chained] frameSize[32]
|$pdata$test_indirect_va_list| DCD |$LN3|
	DCD	|$unwind$test_indirect_va_list|
|$pdata$main| DCD |$LN9|
	DCD	|$unwind$main|

	AREA	|.data|, DATA
|$SG8372| DCB	"format", 0x0
	%	1
|$SG8373| DCB	"format", 0x0
	%	1
|$SG8374| DCB	"format", 0x0

	AREA	|.xdata|, DATA
|$unwind$test_va_list| DCD 0x1a200017
	DCD	0xe3e385e1
	DCD	0xe404e3e3
	DCD	0xe3e40485
	;Code Words[3], Epilog Start Index[8], E[1], X[0], Function Length[23]=92 bytes
	;set_fp
	;save_fplr_x
	;nop
	;nop
	;nop
	;nop
	;alloc_s
	;end
	;save_fplr_x
	;alloc_s
	;end
	;nop
|$unwind$test_indirect_va_list| DCD 0x1a200015
	DCD	0xe3e385e1
	DCD	0xe404e3e3
	DCD	0xe3e40485
	;Code Words[3], Epilog Start Index[8], E[1], X[0], Function Length[21]=84 bytes
	;set_fp
	;save_fplr_x
	;nop
	;nop
	;nop
	;nop
	;alloc_s
	;end
	;save_fplr_x
	;alloc_s
	;end
	;nop
|$unwind$main| DCD 0x113000d5
	DCD	0xe481e101
	DCD	0xe4810111
	DCD	|__GSHandlerCheck|
	DCD	0xffffffe8
	;Code Words[2], Epilog Start Index[4], E[1], X[1], Function Length[213]=852 bytes
	;alloc_s
	;set_fp
	;save_fplr_x
	;end
	;alloc_s
	;alloc_s
	;save_fplr_x
	;end
; Function compile flags: /Odsp
; File W:\home\blachex\mingw-woarm64-build\tests\valist\valist-use-dll.c

	AREA	|.text$mn|, CODE, ARM64

  00000		 |main|	 PROC

; 53   : {

  00000		 |$LN9|
  00000	a9bf7bfd	 stp         fp,lr,[sp,#-0x10]!
  00004	910003fd	 mov         fp,sp
  00008	94000000	 bl          __security_push_cookie
  0000c	d10443ff	 sub         sp,sp,#0x110
  00010	b9007be0	 str         w0,[sp,#0x78]
  00014	f90043e1	 str         x1,[sp,#0x80]

; 54   :   struct not_short_vector_12_bytes nsv12_a = { .a = 1, .b = 1, .c = 1 };

  00018	52800028	 mov         w8,#1
  0001c	b9010be8	 str         w8,[sp,#0x108]
  00020	52800028	 mov         w8,#1
  00024	b9010fe8	 str         w8,[sp,#0x10C]
  00028	52800028	 mov         w8,#1
  0002c	b90113e8	 str         w8,[sp,#0x110]

; 55   :   struct not_short_vector_12_bytes nsv12_b = { .a = 2, .b = 2, .c = 2 };

  00030	52800048	 mov         w8,#2
  00034	b900fbe8	 str         w8,[sp,#0xF8]
  00038	52800048	 mov         w8,#2
  0003c	b900ffe8	 str         w8,[sp,#0xFC]
  00040	52800048	 mov         w8,#2
  00044	b90103e8	 str         w8,[sp,#0x100]

; 56   :   struct not_short_vector_12_bytes nsv12_c = { .a = 3, .b = 3, .c = 3 };

  00048	52800068	 mov         w8,#3
  0004c	b900ebe8	 str         w8,[sp,#0xE8]
  00050	52800068	 mov         w8,#3
  00054	b900efe8	 str         w8,[sp,#0xEC]
  00058	52800068	 mov         w8,#3
  0005c	b900f3e8	 str         w8,[sp,#0xF0]

; 57   :   struct not_short_vector_12_bytes nsv12_d = { .a = 5, .b = 5, .c = 5 };

  00060	528000a8	 mov         w8,#5
  00064	b900dbe8	 str         w8,[sp,#0xD8]
  00068	528000a8	 mov         w8,#5
  0006c	b900dfe8	 str         w8,[sp,#0xDC]
  00070	528000a8	 mov         w8,#5
  00074	b900e3e8	 str         w8,[sp,#0xE0]

; 58   :   struct not_short_vector_12_bytes nsv12_e = { .a = 8, .b = 8, .c = 8 };

  00078	52800108	 mov         w8,#8
  0007c	b9008be8	 str         w8,[sp,#0x88]
  00080	52800108	 mov         w8,#8
  00084	b9008fe8	 str         w8,[sp,#0x8C]
  00088	52800108	 mov         w8,#8
  0008c	b90093e8	 str         w8,[sp,#0x90]

; 59   :   struct not_short_vector_12_bytes nsv12_f = { .a = 13, .b = 13, .c = 13 };

  00090	528001a8	 mov         w8,#0xD
  00094	b9009be8	 str         w8,[sp,#0x98]
  00098	528001a8	 mov         w8,#0xD
  0009c	b9009fe8	 str         w8,[sp,#0x9C]
  000a0	528001a8	 mov         w8,#0xD
  000a4	b900a3e8	 str         w8,[sp,#0xA0]

; 60   :   struct not_short_vector_12_bytes nsv12_g = { .a = 21, .b = 21, .c = 21 };

  000a8	528002a8	 mov         w8,#0x15
  000ac	b900abe8	 str         w8,[sp,#0xA8]
  000b0	528002a8	 mov         w8,#0x15
  000b4	b900afe8	 str         w8,[sp,#0xAC]
  000b8	528002a8	 mov         w8,#0x15
  000bc	b900b3e8	 str         w8,[sp,#0xB0]

; 61   :   struct not_short_vector_12_bytes nsv12_h = { .a = 34, .b = 34, .c = 34 };

  000c0	52800448	 mov         w8,#0x22
  000c4	b900bbe8	 str         w8,[sp,#0xB8]
  000c8	52800448	 mov         w8,#0x22
  000cc	b900bfe8	 str         w8,[sp,#0xBC]
  000d0	52800448	 mov         w8,#0x22
  000d4	b900c3e8	 str         w8,[sp,#0xC0]

; 62   :   struct not_short_vector_12_bytes nsv12_i = { .a = 55, .b = 55, .c = 55 };

  000d8	528006e8	 mov         w8,#0x37
  000dc	b900cbe8	 str         w8,[sp,#0xC8]
  000e0	528006e8	 mov         w8,#0x37
  000e4	b900cfe8	 str         w8,[sp,#0xCC]
  000e8	528006e8	 mov         w8,#0x37
  000ec	b900d3e8	 str         w8,[sp,#0xD0]

; 63   : 
; 64   :   int test1 = use_va_args ("format", nsv12_a, nsv12_b, nsv12_c,

  000f0	910023e9	 add         x9,sp,#8
  000f4	f94047e8	 ldr         x8,[sp,#0x88]
  000f8	f9000128	 str         x8,[x9]
  000fc	b94093e8	 ldr         w8,[sp,#0x90]
  00100	b9000928	 str         w8,[x9,#8]
  00104	910063e9	 add         x9,sp,#0x18
  00108	f9404fe8	 ldr         x8,[sp,#0x98]
  0010c	f9000128	 str         x8,[x9]
  00110	b940a3e8	 ldr         w8,[sp,#0xA0]
  00114	b9000928	 str         w8,[x9,#8]
  00118	9100a3e9	 add         x9,sp,#0x28
  0011c	f94057e8	 ldr         x8,[sp,#0xA8]
  00120	f9000128	 str         x8,[x9]
  00124	b940b3e8	 ldr         w8,[sp,#0xB0]
  00128	b9000928	 str         w8,[x9,#8]
  0012c	9100e3e9	 add         x9,sp,#0x38
  00130	f9405fe8	 ldr         x8,[sp,#0xB8]
  00134	f9000128	 str         x8,[x9]
  00138	b940c3e8	 ldr         w8,[sp,#0xC0]
  0013c	b9000928	 str         w8,[x9,#8]
  00140	910123e9	 add         x9,sp,#0x48
  00144	f94067e8	 ldr         x8,[sp,#0xC8]
  00148	f9000128	 str         x8,[x9]
  0014c	b940d3e8	 ldr         w8,[sp,#0xD0]
  00150	b9000928	 str         w8,[x9,#8]
  00154	b940e3e8	 ldr         w8,[sp,#0xE0]
  00158	b90003e8	 str         w8,[sp]
  0015c	f9406fe7	 ldr         x7,[sp,#0xD8]
  00160	b940f3e6	 ldr         w6,[sp,#0xF0]
  00164	f94077e5	 ldr         x5,[sp,#0xE8]
  00168	b94103e4	 ldr         w4,[sp,#0x100]
  0016c	f9407fe3	 ldr         x3,[sp,#0xF8]
  00170	b94113e2	 ldr         w2,[sp,#0x110]
  00174	f94087e1	 ldr         x1,[sp,#0x108]
  00178	90000008	 adrp        x8,|$SG8372|
  0017c	91000100	 add         x0,x8,|$SG8372|
  00180	90000008	 adrp        x8,__imp_use_va_args
  00184	f9400108	 ldr         x8,[x8,__imp_use_va_args]
  00188	d63f0100	 blr         x8
  0018c	2a0003e8	 mov         w8,w0
  00190	b9006fe8	 str         w8,[sp,#0x6C]

; 65   :         nsv12_d, nsv12_e, nsv12_f, nsv12_g, nsv12_h, nsv12_i);
; 66   :   int test2 = test_va_list ("format", nsv12_a, nsv12_b, nsv12_c,

  00194	910023e9	 add         x9,sp,#8
  00198	f94047e8	 ldr         x8,[sp,#0x88]
  0019c	f9000128	 str         x8,[x9]
  001a0	b94093e8	 ldr         w8,[sp,#0x90]
  001a4	b9000928	 str         w8,[x9,#8]
  001a8	910063e9	 add         x9,sp,#0x18
  001ac	f9404fe8	 ldr         x8,[sp,#0x98]
  001b0	f9000128	 str         x8,[x9]
  001b4	b940a3e8	 ldr         w8,[sp,#0xA0]
  001b8	b9000928	 str         w8,[x9,#8]
  001bc	9100a3e9	 add         x9,sp,#0x28
  001c0	f94057e8	 ldr         x8,[sp,#0xA8]
  001c4	f9000128	 str         x8,[x9]
  001c8	b940b3e8	 ldr         w8,[sp,#0xB0]
  001cc	b9000928	 str         w8,[x9,#8]
  001d0	9100e3e9	 add         x9,sp,#0x38
  001d4	f9405fe8	 ldr         x8,[sp,#0xB8]
  001d8	f9000128	 str         x8,[x9]
  001dc	b940c3e8	 ldr         w8,[sp,#0xC0]
  001e0	b9000928	 str         w8,[x9,#8]
  001e4	910123e9	 add         x9,sp,#0x48
  001e8	f94067e8	 ldr         x8,[sp,#0xC8]
  001ec	f9000128	 str         x8,[x9]
  001f0	b940d3e8	 ldr         w8,[sp,#0xD0]
  001f4	b9000928	 str         w8,[x9,#8]
  001f8	b940e3e8	 ldr         w8,[sp,#0xE0]
  001fc	b90003e8	 str         w8,[sp]
  00200	f9406fe7	 ldr         x7,[sp,#0xD8]
  00204	b940f3e6	 ldr         w6,[sp,#0xF0]
  00208	f94077e5	 ldr         x5,[sp,#0xE8]
  0020c	b94103e4	 ldr         w4,[sp,#0x100]
  00210	f9407fe3	 ldr         x3,[sp,#0xF8]
  00214	b94113e2	 ldr         w2,[sp,#0x110]
  00218	f94087e1	 ldr         x1,[sp,#0x108]
  0021c	90000008	 adrp        x8,|$SG8373|
  00220	91000100	 add         x0,x8,|$SG8373|
  00224	94000000	 bl          test_va_list
  00228	2a0003e8	 mov         w8,w0
  0022c	b90073e8	 str         w8,[sp,#0x70]

; 67   :         nsv12_d, nsv12_e, nsv12_f, nsv12_g, nsv12_h, nsv12_i);
; 68   :   int test3 = test_indirect_va_list ("format", nsv12_a, nsv12_b, nsv12_c,

  00230	910023e9	 add         x9,sp,#8
  00234	f94047e8	 ldr         x8,[sp,#0x88]
  00238	f9000128	 str         x8,[x9]
  0023c	b94093e8	 ldr         w8,[sp,#0x90]
  00240	b9000928	 str         w8,[x9,#8]
  00244	910063e9	 add         x9,sp,#0x18
  00248	f9404fe8	 ldr         x8,[sp,#0x98]
  0024c	f9000128	 str         x8,[x9]
  00250	b940a3e8	 ldr         w8,[sp,#0xA0]
  00254	b9000928	 str         w8,[x9,#8]
  00258	9100a3e9	 add         x9,sp,#0x28
  0025c	f94057e8	 ldr         x8,[sp,#0xA8]
  00260	f9000128	 str         x8,[x9]
  00264	b940b3e8	 ldr         w8,[sp,#0xB0]
  00268	b9000928	 str         w8,[x9,#8]
  0026c	9100e3e9	 add         x9,sp,#0x38
  00270	f9405fe8	 ldr         x8,[sp,#0xB8]
  00274	f9000128	 str         x8,[x9]
  00278	b940c3e8	 ldr         w8,[sp,#0xC0]
  0027c	b9000928	 str         w8,[x9,#8]
  00280	910123e9	 add         x9,sp,#0x48
  00284	f94067e8	 ldr         x8,[sp,#0xC8]
  00288	f9000128	 str         x8,[x9]
  0028c	b940d3e8	 ldr         w8,[sp,#0xD0]
  00290	b9000928	 str         w8,[x9,#8]
  00294	b940e3e8	 ldr         w8,[sp,#0xE0]
  00298	b90003e8	 str         w8,[sp]
  0029c	f9406fe7	 ldr         x7,[sp,#0xD8]
  002a0	b940f3e6	 ldr         w6,[sp,#0xF0]
  002a4	f94077e5	 ldr         x5,[sp,#0xE8]
  002a8	b94103e4	 ldr         w4,[sp,#0x100]
  002ac	f9407fe3	 ldr         x3,[sp,#0xF8]
  002b0	b94113e2	 ldr         w2,[sp,#0x110]
  002b4	f94087e1	 ldr         x1,[sp,#0x108]
  002b8	90000008	 adrp        x8,|$SG8374|
  002bc	91000100	 add         x0,x8,|$SG8374|
  002c0	94000000	 bl          test_indirect_va_list
  002c4	2a0003e8	 mov         w8,w0
  002c8	b90077e8	 str         w8,[sp,#0x74]

; 69   :         nsv12_d, nsv12_e, nsv12_f, nsv12_g, nsv12_h, nsv12_i);
; 70   : 
; 71   :   return ((test1 == 142) ? 0 : 1) +

  002cc	b9406fe8	 ldr         w8,[sp,#0x6C]
  002d0	7102391f	 cmp         w8,#0x8E
  002d4	54000001	 bne         |$LN3@main|
  002d8	52800008	 mov         w8,#0
  002dc	b90063e8	 str         w8,[sp,#0x60]
  002e0	14000003	 b           |$LN4@main|
  002e4		 |$LN3@main|
  002e4	52800028	 mov         w8,#1
  002e8	b90063e8	 str         w8,[sp,#0x60]
  002ec		 |$LN4@main|
  002ec	b94073e8	 ldr         w8,[sp,#0x70]
  002f0	7102391f	 cmp         w8,#0x8E
  002f4	54000001	 bne         |$LN5@main|
  002f8	52800008	 mov         w8,#0
  002fc	b90067e8	 str         w8,[sp,#0x64]
  00300	14000003	 b           |$LN6@main|
  00304		 |$LN5@main|
  00304	52800028	 mov         w8,#1
  00308	b90067e8	 str         w8,[sp,#0x64]
  0030c		 |$LN6@main|
  0030c	b94077e8	 ldr         w8,[sp,#0x74]
  00310	7102391f	 cmp         w8,#0x8E
  00314	54000001	 bne         |$LN7@main|
  00318	52800008	 mov         w8,#0
  0031c	b9006be8	 str         w8,[sp,#0x68]
  00320	14000003	 b           |$LN8@main|
  00324		 |$LN7@main|
  00324	52800028	 mov         w8,#1
  00328	b9006be8	 str         w8,[sp,#0x68]
  0032c		 |$LN8@main|
  0032c	b94063e8	 ldr         w8,[sp,#0x60]
  00330	b94067e9	 ldr         w9,[sp,#0x64]
  00334	0b090108	 add         w8,w8,w9
  00338	b9406be9	 ldr         w9,[sp,#0x68]
  0033c	0b090100	 add         w0,w8,w9
  00340	2a0003e0	 mov         w0,w0
  00344	910443ff	 add         sp,sp,#0x110
  00348	94000000	 bl          __security_pop_cookie
  0034c	a8c17bfd	 ldp         fp,lr,[sp],#0x10
  00350	d65f03c0	 ret

			 ENDP  ; |main|

; Function compile flags: /Odsp
; File W:\home\blachex\mingw-woarm64-build\tests\valist\valist-use-dll.c

	AREA	|.text$mn|, CODE, ARM64

  00000		 |test_indirect_va_list| PROC

; 36   : {

  00000		 |$LN3|
  00000	d10103ff	 sub         sp,sp,#0x40
  00004	a9008be1	 stp         x1,x2,[sp,#8]
  00008	a90193e3	 stp         x3,x4,[sp,#0x18]
  0000c	a9029be5	 stp         x5,x6,[sp,#0x28]
  00010	f9001fe7	 str         x7,[sp,#0x38]
  00014	a9bd7bfd	 stp         fp,lr,[sp,#-0x30]!
  00018	910003fd	 mov         fp,sp
  0001c	f90013e0	 str         x0,[sp,#0x20]

; 37   :   va_list argv;
; 38   :   va_start (argv, format);

  00020	9100e3e8	 add         x8,sp,#0x38
  00024	f9000fe8	 str         x8,[sp,#0x18]

; 39   :   int retval = use_indirect_va_list (format, argv);

  00028	f9400fe1	 ldr         x1,[sp,#0x18]
  0002c	f94013e0	 ldr         x0,[sp,#0x20]
  00030	94000000	 bl          use_indirect_va_list
  00034	2a0003e8	 mov         w8,w0
  00038	b90013e8	 str         w8,[sp,#0x10]

; 40   :   va_end (argv);

  0003c	d2800008	 mov         x8,#0
  00040	f9000fe8	 str         x8,[sp,#0x18]

; 41   :   return retval;

  00044	b94013e0	 ldr         w0,[sp,#0x10]
  00048	a8c37bfd	 ldp         fp,lr,[sp],#0x30
  0004c	910103ff	 add         sp,sp,#0x40
  00050	d65f03c0	 ret

			 ENDP  ; |test_indirect_va_list|

; Function compile flags: /Odsp
; File W:\home\blachex\mingw-woarm64-build\tests\valist\valist-use-dll.c

	AREA	|.text$mn|, CODE, ARM64

  00000		 |use_indirect_va_list| PROC

; 30   : {

  00000		 |$LN3|
  00000	a9be7bfd	 stp         fp,lr,[sp,#-0x20]!
  00004	910003fd	 mov         fp,sp
  00008	f9000fe0	 str         x0,[sp,#0x18]
  0000c	f9000be1	 str         x1,[sp,#0x10]

; 31   :   return use_va_list (format, argv);

  00010	f9400be1	 ldr         x1,[sp,#0x10]
  00014	f9400fe0	 ldr         x0,[sp,#0x18]
  00018	90000008	 adrp        x8,__imp_use_va_list
  0001c	f9400108	 ldr         x8,[x8,__imp_use_va_list]
  00020	d63f0100	 blr         x8
  00024	2a0003e0	 mov         w0,w0
  00028	2a0003e0	 mov         w0,w0
  0002c	a8c27bfd	 ldp         fp,lr,[sp],#0x20
  00030	d65f03c0	 ret

			 ENDP  ; |use_indirect_va_list|

; Function compile flags: /Odsp
; File W:\home\blachex\mingw-woarm64-build\tests\valist\valist-use-dll.c

	AREA	|.text$mn|, CODE, ARM64

  00000		 |test_va_list| PROC

; 20   : {

  00000		 |$LN3|
  00000	d10103ff	 sub         sp,sp,#0x40
  00004	a9008be1	 stp         x1,x2,[sp,#8]
  00008	a90193e3	 stp         x3,x4,[sp,#0x18]
  0000c	a9029be5	 stp         x5,x6,[sp,#0x28]
  00010	f9001fe7	 str         x7,[sp,#0x38]
  00014	a9bd7bfd	 stp         fp,lr,[sp,#-0x30]!
  00018	910003fd	 mov         fp,sp
  0001c	f90013e0	 str         x0,[sp,#0x20]

; 21   :   va_list argv;
; 22   :   va_start (argv, format);

  00020	9100e3e8	 add         x8,sp,#0x38
  00024	f9000fe8	 str         x8,[sp,#0x18]

; 23   :   int retval = use_va_list (format, argv);

  00028	f9400fe1	 ldr         x1,[sp,#0x18]
  0002c	f94013e0	 ldr         x0,[sp,#0x20]
  00030	90000008	 adrp        x8,__imp_use_va_list
  00034	f9400108	 ldr         x8,[x8,__imp_use_va_list]
  00038	d63f0100	 blr         x8
  0003c	2a0003e8	 mov         w8,w0
  00040	b90013e8	 str         w8,[sp,#0x10]

; 24   :   va_end (argv);

  00044	d2800008	 mov         x8,#0
  00048	f9000fe8	 str         x8,[sp,#0x18]

; 25   :   return retval;

  0004c	b94013e0	 ldr         w0,[sp,#0x10]
  00050	a8c37bfd	 ldp         fp,lr,[sp],#0x30
  00054	910103ff	 add         sp,sp,#0x40
  00058	d65f03c0	 ret

			 ENDP  ; |test_va_list|

	END
